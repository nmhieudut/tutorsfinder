(this["webpackJsonpadmin-app"]=this["webpackJsonpadmin-app"]||[]).push([[10],{250:function(e,a,t){"use strict";t.r(a);var n=t(68),r=t(75),l=t(0),i=t.n(l),s=t(451),o=t.n(s),c=t(238),u=t(433),m=t(438),d=t(458),h=t(485),p=t(95),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"},g=t(41),b=function(e,a){return l.createElement(g.a,Object.assign({},e,{ref:a,icon:f}))};b.displayName="SendOutlined";var v=l.forwardRef(b),E=t(452),N=t(37);a.default=function(e){var a=Object(l.useState)(null),t=Object(r.a)(a,2),s=t[0],f=t[1],g=Object(l.useState)(!0),b=Object(r.a)(g,2),O=b[0],I=b[1],S=Object(N.g)(),w=e.match.params.id;Object(l.useEffect)((function(){E.a.getDetailUser(w).then((function(e){f(e[0].data),I(!1)})).catch((function(e){return I(!1)}))}),[e.match.params.id]);var B=function(e,a,t){c.a[e]({message:a,description:t,duration:2})},U={labelCol:{span:8},wrapperCol:{span:8}};return i.a.createElement("div",null,s&&i.a.createElement(u.a,Object.assign({},U,{name:"basic",onFinish:function(e){console.log(e);var a={firstName:e.firstName,lastName:e.lastName,address:e.address,email:e.email,gender:"male"===e.gender?1:0,introduction:e.introduction,phoneNumber:e.phoneNumber,dateOfBirth:o()(e.dateOfBirth,"YYYY/M/D")};!function(e,a){I(!0),E.a.updateUser(e,a).then((function(e){I(!1),B("success","Success!","Update successfully"),setTimeout((function(){return S.push("/home/users")}),2e3)})).catch((function(e){B("error","Error!","Update failed"),I(!1)}))}(s.id,a)},validateMessages:{required:"${label} is required!",types:{email:"${label} is not validate email!",number:"${label} is not a validate number!"},number:{range:"${label} must be between ${min} and ${max}"}},initialValues:{firstName:s.firstName,lastName:s.lastName,email:s.email,gender:s.gender?"male":"female",dateOfBirth:o()(s.dateOfBirth,"MMM Do YY"),phoneNumber:s.phoneNumber,address:s.address,introduction:s.introduction}}),i.a.createElement(u.a.Item,{name:"firstName",label:"First Name",rules:[{required:!0}]},i.a.createElement(m.a,null)),i.a.createElement(u.a.Item,{name:"lastName",label:"Last Name",rules:[{required:!0}]},i.a.createElement(m.a,null)),i.a.createElement(u.a.Item,{name:"email",label:"Email",rules:[{type:"email",required:!0}]},i.a.createElement(m.a,null)),i.a.createElement(u.a.Item,{name:"gender",label:"Gender",rules:[{required:!0}]},i.a.createElement(d.a.Group,null,i.a.createElement(d.a,{value:"male"},"Male"),i.a.createElement(d.a,{value:"female"},"Female"))),i.a.createElement(u.a.Item,{name:"dateOfBirth",label:"Birthday",rules:[{required:!0}]},i.a.createElement(h.a,{onChange:function(e){return console.log(e._d)},format:"YYYY/MM/DD"})),i.a.createElement(u.a.Item,{name:"phoneNumber",label:"Phone",rules:[{message:"Please input your phone number!",required:!0}]},i.a.createElement(m.a,{addonBefore:"(+84)"})),i.a.createElement(u.a.Item,{name:"address",label:"Address",rules:[{required:!0}]},i.a.createElement(m.a,null)),i.a.createElement(u.a.Item,{name:"introduction",label:"Introduction"},i.a.createElement(m.a.TextArea,null)),i.a.createElement(u.a.Item,{wrapperCol:Object(n.a)(Object(n.a)({},U.wrapperCol),{},{offset:8})},i.a.createElement(p.a,{type:"primary",htmlType:"submit",disable:O?1:0,loading:O},i.a.createElement(v,null),O?"Saving...":"Save"))))}},452:function(e,a,t){"use strict";var n=t(168),r=t.n(n);a.a={getUsers:function(){var e=JSON.parse(localStorage.getItem("token"));return new Promise((function(a,t){r.a.get("http://haimai.ddns.net:9090/api/edu/v1/user",{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=[];t.push(e),a(t)})).catch((function(e){console.log(e),t(e)}))}))},getDetailUser:function(e){var a=JSON.parse(localStorage.getItem("token"));return new Promise((function(t,n){r.a.get("http://haimai.ddns.net:9090/api/edu/v1/user/details/".concat(e),{headers:{Authorization:"Bearer ".concat(a)},params:{id:e}}).then((function(e){var a=[];a.push(e),t(a)})).catch((function(e){console.log(e),n(e)}))}))},createUser:function(e){return new Promise((function(a,t){r.a.post("http://haimai.ddns.net:9090/api/auth/v1/user/register",e).then((function(e){a(e),console.log("Data created:",e)})).catch((function(e){console.log(e),t(e)}))}))},updateUser:function(e,a){var t=JSON.parse(localStorage.getItem("token"));return new Promise((function(n,l){r.a.put("http://haimai.ddns.net:9090/api/edu/v1/user/update",a,{params:{idUser:e},headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){n(e),console.log(e)})).catch((function(e){l(e),console.log(e)}))}))},deleteUser:function(e){var a=JSON.parse(localStorage.getItem("token"));return new Promise((function(t,n){r.a.delete("http://haimai.ddns.net:9090/api/edu/v1/user/delete",{params:{idUser:e},headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){t(e)})).catch((function(e){console.log(e),n(e)}))}))}}}}]);
//# sourceMappingURL=10.6094f7b9.chunk.js.map